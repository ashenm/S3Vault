(function(){var f,h={},l=_.object(".adoc .asc .asciidoc .c .css .h .html .js .json Makefile .m .php .plist .sql .txt .xml".split(" "),[]),e={Region:"us-east-1",AppWebDomain:"auth.ashenm.ml",CongnitoClientID:"3d2vnefdnl2mpq66llp42p2kfn",CongnitoUserPoolId:"us-east-1_lqhwxxJZ6",CongnitoTokenScope:["phone","email","openid"],CongnitoRedirectUriSignIn:window.location.origin,CongnitoRedirectUriSignOut:window.location.origin,CongnitoAdvancedSecurityDataCollectionFlag:!1,CognitoIdentityPoolId:"us-east-1:f944c5ff-3930-409c-b728-f8356347acc1",
S3Bucket:"vault.ashenm.ml",S3ObjectExcludes:["__public__"]};moment.RFC_2822="ddd, DD MMM YYYY HH:mm:ss ZZ";var k=function(a,d){f.listObjectsV2({Bucket:e.S3Bucket,Delimiter:"/",FetchOwner:!1,Prefix:a,ContinuationToken:d,EncodingType:"url"},function(c,b){if(c)g(c.statusCode,c.message);else if(window.location.pathname.match(/\/$/)||_.isUndefined(_.findWhere(b.CommonPrefixes,{Prefix:window.location.pathname.replace(/^\//,"")+"/"})))if(!window.location.pathname.match(/\/$/)&&_.isEmpty(b.Contents))g("404",
"Not Found");else return b.IsTruncated&&k(b.NextContinuationToken,a),_.each(b.CommonPrefixes,function(a,b,c){a=a.Prefix.replace(/\/$/,"").split(/\//).pop();-1<e.S3ObjectExcludes.indexOf(a)||h.$index.append(_.template('<tr><td colspan="4"><a href="<% print(encodeURIComponent(Prefix)) %>/"><%- Prefix %>/</a></td></tr>')({Prefix:a}))}),_.each(b.Contents,function(a,c,d){a.Key.match(/\.(md5|sha1|sha256)$/)||(c=a.Key.replace(/\/$/,"").split(/\//).pop(),-1<e.S3ObjectExcludes.indexOf(c)||(d='<td class="Etag w-25 align-middle text-right d-none d-sm-table-cell">',
_.findWhere(b.Contents,{Key:a.Key+".md5"})&&(d+='<a class="text-black-50 font-small" href="<% print(encodeURIComponent(Key)) %>.md5">MD5</a>'),_.findWhere(b.Contents,{Key:a.Key+".sha1"})&&(d+='<a class="text-black-50 font-small" href="<% print(encodeURIComponent(Key)) %>.sha1">SHA1</a>'),_.findWhere(b.Contents,{Key:a.Key+".sha256"})&&(d+='<a class="text-black-50 font-small" href="<% print(encodeURIComponent(Key)) %>.sha256">SHA256</a>'),d+="</td>",h.$index.append(_.template('<tr><td class="Key"><a href="<% print(encodeURIComponent(Key)) %>"><%- Key %></a> <a class="download text-black-50 font-small d-none d-sm-inline" href="<% print(encodeURIComponent(Key)) %>.download">download</a> '+
(l.hasOwnProperty(c.replace(/.+(?=\.)|.+/,""))?'<a class="view text-black-50 font-small" href="<% print(encodeURIComponent(Key)) %>.src">view</a>':"")+'</td><td class="Size w-25 align-middle text-right text-black-50 font-small readable" onclick="toggleSize(this, event);" data-Size="<%- Size %>"><% print(window.bytesToSize(Size)) %></td><td class="LastModified w-25 align-middle text-right text-black-50 font-small d-none d-sm-table-cell readable" onclick="toggleLastModified(this, event);" data-LastModified="<%- LastModified %>"><% print(moment(LastModified, moment.RFC_2822).fromNow()) %></td>'+
d+"</tr>")({Key:c,LastModified:moment(a.LastModified,moment.ISO_8601).format(moment.RFC_2822),Size:a.Size}))))}),b;else window.location.href+="/"})},m=function(){f=new AWS.S3;var a=window.location.pathname.split("/").pop();if(a.match(/\.download$/))window.location.href=f.getSignedUrl("getObject",{Bucket:e.S3Bucket,Key:window.location.pathname.replace(/^\/|\.download$/g,"")});else if(a.match(/\.src$/)){var d=window.location.pathname.replace(/^\/|\.src$/g,"");f.getObject({Bucket:e.S3Bucket,Key:d,ResponseContentType:"text/html; charset=utf-8"},
function(a,c){if(a)g(a.statusCode,a.message);else{var b=d.split(".").pop();$("head").prepend('<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism-okaidia.min.css" integrity="sha256-+8ReLFz1xaTiP3T0xcJVWrHneeFwCnJUJwvcM0L+Ufw=" crossorigin="anonymous" />').prepend('<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/line-numbers/prism-line-numbers.min.css" integrity="sha256-Afz2ZJtXw+OuaPX10lZHY7fN1+FuTE/KdCs+j7WZTGc=" crossorigin="anonymous" />');
$("body").empty().append('<pre class="min-vh-100 rounded-0 m-0"><code class="line-numbers language-'+_.escape(b)+'">'+_.escape(c.Body)+"</code>");Prism.highlightElement(_.first($("pre code")))}})}else{var c=window.location.pathname.split("/").map(decodeURIComponent).slice(1,-1),b=$('<nav class="navbar justify-content-start breadcrumbs bg-dark font-weight-bold" aria-label="breadcrumb"></nav>');b.append('<a class="breadcrumbs text-decoration-none text-white" href="/">'+window.location.hostname+"/</a>");
_.each(c,function(a,d,e){b.append(_.template('<a class="breadcrumbs text-decoration-none text-white" href="/<%= path %>"><%- ancestor %></a>')({ancestor:a+"/",path:c.slice(0,d+1).map(encodeURIComponent).join("/")+"/"}))});b.children(":last-child").attr("aria-current","page");$("header").append(b);k(window.location.pathname.replace(/^\//,""))}},g=function(a,d){$('<tr class="bg-danger text-white"></tr>').html('<th class="border-0" colspan="4">'+(a||"500")+" "+(d||"Internal Server Error")+"</th>").appendTo($("thead").empty())};
window.toggleLastModified=function(a,d){var c=$(a);c.hasClass("readable")?c.text(moment(c.attr("data-LastModified"),moment.RFC_2822).valueOf()).removeClass("readable").addClass("raw"):c.text(moment(c.attr("data-LastModified"),moment.RFC_2822).fromNow()).removeClass("raw").addClass("readable");return d};window.toggleSize=function(a,d){var c=$(a);c.hasClass("readable")?c.text(c.attr("data-Size")).removeClass("readable").addClass("raw"):c.text(window.bytesToSize(c.attr("data-Size"))).removeClass("raw").addClass("readable");
return d};window.bytesToSize=function(a,d){if(!_.isUndefined(a))return 0<=a&&1024>a?a+" B":1024<=a&&1048576>a?(a/1024).toFixed(d)+" KB":1048576<=a&&1073741824>a?(a/1048576).toFixed(d)+" MB":1073741824<=a&&1099511627776>a?(a/1073741824).toFixed(d)+" GB":1099511627776<=a?(a/1099511627776).toFixed(d)+" TB":a+" B"};$(function(){h.$index=$("tbody");var a=sessionStorage.getItem("unity"),d=sessionStorage.getItem("memento"),c=sessionStorage.getItem("exposition"),b=new AmazonCognitoIdentity.CognitoAuth({ClientId:e.CongnitoClientID,
AppWebDomain:e.AppWebDomain,TokenScopesArray:e.CongnitoTokenScope,RedirectUriSignIn:e.CongnitoRedirectUriSignIn,RedirectUriSignOut:e.CongnitoRedirectUriSignOut,IdentityProvider:e.CongnitoIdentityProvider,UserPoolId:e.CongnitoUserPoolId,AdvancedSecurityDataCollectionFlag:e.CongnitoAdvancedSecurityDataCollectionFlag});b.userhandler={onSuccess:function(b){if(a&&d&&c)AWS.config.credentials=new AWS.Credentials({accessKeyId:a,secretAccessKey:c,sessionToken:d});else{var f={};AWS.config.credentials=new AWS.CognitoIdentityCredentials({IdentityPoolId:e.CognitoIdentityPoolId,
Logins:(f["cognito-idp."+e.Region+".amazonaws.com/"+e.CongnitoUserPoolId]=b.getIdToken().getJwtToken(),f)},{region:e.Region})}AWS.config.credentials.get(function(a){a?g():b.state?window.location.href=JSON.parse(decodeURIComponent(b.state)).redirect:(m(),sessionStorage.setItem("unity",AWS.config.credentials.accessKeyId),sessionStorage.setItem("memento",AWS.config.credentials.sessionToken),sessionStorage.setItem("exposition",AWS.config.credentials.secretAccessKey))})},onFailure:function(a){g()}};b.setState(encodeURIComponent(JSON.stringify({redirect:window.location.href,
provision:b.generateRandomString(b.getCognitoConstants().STATELENGTH,b.getCognitoConstants().STATEORIGINSTRING)})));b.parseCognitoWebResponse(window.location.href);b.getSession()})})();
