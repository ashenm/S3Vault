(function(){var d,a={Region:"us-east-1",AppWebDomain:"auth.ashenm.ml",CongnitoClientID:"4rv5jq1bup22slv151jc730m9k",CongnitoUserPoolId:"us-east-1_lqhwxxJZ6",CongnitoTokenScope:["phone","email","openid"],CongnitoRedirectUriSignIn:window.location.origin,CongnitoRedirectUriSignOut:window.location.origin,CongnitoAdvancedSecurityDataCollectionFlag:!1,CognitoIdentityPoolId:"us-east-1:f944c5ff-3930-409c-b728-f8356347acc1",S3Bucket:window.location.hostname},k=function(){d=new AWS.S3;"?download"===window.location.search&&
"/"!==window.location.pathname.slice(-1)?window.location.href=d.getSignedUrl("getObject",{Bucket:a.S3Bucket,Key:window.location.pathname.replace(/^\//,"")}):"?view"===window.location.search&&"/"!==window.location.pathname.slice(-1)?(d.getObject({Bucket:a.S3Bucket,Key:window.location.pathname.replace(/^\//,"").concat(".highlight")},function(b,a){b?e(b.statusCode,b.message):$("body").html(a.Body.toString("utf8")).addClass("view")}),$("head").append('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.9/styles/github.min.css" integrity="sha256-iAmWN8uaUdN6Y9FCf8srQdrx3eVVwouJ5QtEiyuTQ6A=" crossorigin="anonymous" />')):
($("header").append('<nav aria-label="breadcrumb"><a href="/">'+window.location.hostname+"/</a>"+window.location.pathname.replace(/^\//,"").replace(/([^/]{1,}\/{0,1})/g,'<a href="/$`$1">$1</a>')+"</nav>"),"/"!==window.location.pathname.slice(-1)?e("406","Not Acceptable"):d.getObject({Bucket:a.S3Bucket,Key:window.location.pathname.replace(/^\//,"").concat("index.partial")},function(b,a){b?e(b.statusCode,b.message):$("main").html(a.Body.toString("utf8")).find(".readable").click(h)}))},e=function(b,
a){return $("main").text((b||"500")+" "+(a||"Internal Server Error")).removeClass().addClass("error")},h=function(b){b=$(this);var a=b.text();b.hasClass("size")?b._="size":b.hasClass("mtime")&&(b._="mtime");b.toggleClass("raw").toggleClass("readable").text(b.data(b._)).data(b._,a)};$(function(){var b=window.store.getItem("unity"),d=window.store.getItem("memento"),f=window.store.getItem("exposition"),c=new AmazonCognitoIdentity.CognitoAuth({ClientId:a.CongnitoClientID,AppWebDomain:a.AppWebDomain,TokenScopesArray:a.CongnitoTokenScope,
RedirectUriSignIn:a.CongnitoRedirectUriSignIn,RedirectUriSignOut:a.CongnitoRedirectUriSignOut,IdentityProvider:a.CongnitoIdentityProvider,UserPoolId:a.CongnitoUserPoolId,AdvancedSecurityDataCollectionFlag:a.CongnitoAdvancedSecurityDataCollectionFlag});c.userhandler={onSuccess:function(c){if(b&&d&&f)AWS.config.credentials=new AWS.Credentials({accessKeyId:b,secretAccessKey:f,sessionToken:d});else{var g={};AWS.config.credentials=new AWS.CognitoIdentityCredentials({IdentityPoolId:a.CognitoIdentityPoolId,
Logins:(g["cognito-idp."+a.Region+".amazonaws.com/"+a.CongnitoUserPoolId]=c.getIdToken().getJwtToken(),g)},{region:a.Region})}AWS.config.credentials.get(function(a){a?e():(window.store.setItem("unity",AWS.config.credentials.accessKeyId),window.store.setItem("memento",AWS.config.credentials.sessionToken),window.store.setItem("exposition",AWS.config.credentials.secretAccessKey),c.state?window.location.href=JSON.parse(decodeURIComponent(c.state)).redirect:k())})},onFailure:function(a){e()}};c.setState(encodeURIComponent(JSON.stringify({redirect:window.location.href,
provision:c.generateRandomString(c.getCognitoConstants().STATELENGTH,c.getCognitoConstants().STATEORIGINSTRING)})));c.parseCognitoWebResponse(window.location.href);c.getSession()})})();
